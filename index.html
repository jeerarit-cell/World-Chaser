<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WORLD SPIN</title>
    <style>
        :root {
            --neon: #00ffaa; --bg: #0d1117; --card: #161b22; --border: #30363d;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        .screen { display: none; height: 100vh; flex-direction: column; width: 100%; max-width: 450px; margin: 0 auto; }
        .active { display: flex; }

        /* --- LOBBY --- */
        .lobby-content { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .wheel-box { position: relative; width: 180px; height: 180px; border: 1px dashed var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 30px; }
        .arrow-spin { font-size: 40px; color: #ffcf40; animation: spin 3s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .dot { position: absolute; width: 6px; height: 6px; background: white; border-radius: 50%; box-shadow: 0 0 8px white; }
        /* Dots positioning (inline for brevity) */
        .lobby-card { width: 100%; background: var(--card); padding: 15px; border-radius: 12px; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; border: 1px solid var(--border); }
        .btn-join { background: linear-gradient(135deg, var(--neon), #00d2ff); border: none; padding: 10px 25px; border-radius: 8px; font-weight: 800; cursor: pointer; }

        /* --- GAME SCREEN --- */
        .top-nav { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; background: #000; border-bottom: 1px solid var(--border); }
        .winner-ticker { background: #1a1a1a; color: var(--neon); font-size: 0.7rem; padding: 5px; white-space: nowrap; overflow: hidden; border-bottom: 1px solid var(--border); }
        
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; padding: 10px; }
        .stat-item { background: var(--card); border: 1px solid var(--border); padding: 8px; border-radius: 8px; text-align: center; }
        .stat-item small { display: block; font-size: 0.6rem; color: #8b949e; }
        .stat-item b { font-size: 0.8rem; color: var(--neon); }

        /* Avatar Slider with Selector Arrow */
        .slider-section { position: relative; padding: 15px 0; overflow: hidden; background: rgba(0,0,0,0.2); }
        .slider-arrow { position: absolute; top: 0; left: 50%; transform: translateX(-50%); font-size: 20px; color: var(--neon); z-index: 5; text-shadow: 0 0 10px var(--neon); }
        .avatar-track { display: flex; gap: 10px; width: max-content; }
        .avatar { width: 45px; height: 45px; background: #222; border: 2px solid var(--border); border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; }
        .avatar.active { border-color: var(--neon); box-shadow: 0 0 10px var(--neon); }
        .sliding { animation: slideLoop 15s linear infinite; }
        @keyframes slideLoop { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        .online-badge { background: #004d33; color: var(--neon); padding: 2px 10px; border-radius: 15px; font-size: 0.65rem; margin: 5px auto; width: fit-content; }

        /* Chat & Action (Fixed at bottom) */
        .chat-area { flex: 1; overflow-y: auto; padding: 10px; font-size: 0.8rem; background: rgba(0,0,0,0.1); border-top: 1px solid #1a1a1a; }
        .action-bar { padding: 10px 15px 25px; border-top: 1px solid var(--border); display: flex; gap: 10px; align-items: center; background: var(--bg); }
        .input-box { flex: 1; background: #161b22; border: 1px solid var(--border); color: white; padding: 12px; border-radius: 10px; outline: none; }
        .btn-play { background: linear-gradient(135deg, var(--neon), #00d2ff); border: none; padding: 12px 18px; border-radius: 10px; color: #000; font-weight: 800; text-align: center; line-height: 1.2; }
        
        .footer-space { height: 40px; background: #000; display: flex; align-items: center; justify-content: center; color: #333; font-size: 0.6rem; border-top: 1px solid #111; }
    </style>
</head>
<body>

<div id="lobby" class="screen active">
    <div class="lobby-content">
        <h1 style="color:var(--neon); margin:0;">WORLD SPIN</h1>
        <p style="color:#8b949e; margin-bottom:20px;">‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏ä‡∏Ñ‡∏ö‡∏ô World Chain</p>
        
        <div class="wheel-box" id="wheel">
            <div class="arrow-spin">‚û§</div>
            </div>

        <div id="room-list" style="width: 100%;">
            <div class="lobby-card"><b>0.001 WLD</b><button class="btn-join" onclick="join(0.001)">JOIN</button></div>
            <div class="lobby-card"><b>0.01 WLD</b><button class="btn-join" onclick="join(0.01)">JOIN</button></div>
            <div class="lobby-card"><b>0.1 WLD</b><button class="btn-join" onclick="join(0.1)">JOIN</button></div>
            <div class="lobby-card"><b>1 WLD</b><button class="btn-join" onclick="join(1)">JOIN</button></div>
        </div>
    </div>
</div>

<div id="game" class="screen">
    <div class="top-nav">
        <button onclick="leave()" style="background:none; border:1px solid #444; color:#fff; border-radius:5px; padding:4px 8px;">‚Üê</button>
        <div style="text-align:center;"><b>WORLD SPIN</b></div>
        <div style="font-size:0.8rem; color:var(--neon);">üí∞ <span id="balance">1.250</span></div>
    </div>

    <div class="winner-ticker"><marquee scrollamount="3">üèÜ LATEST WINNER: 0x82... WON 0.035 WLD | NEXT ROUND STARTING SOON...</marquee></div>

    <div class="stats-row">
        <div class="stat-item"><small>‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</small><b id="pot">0.000</b></div>
        <div class="stat-item"><small>‡πÄ‡∏ß‡∏•‡∏≤</small><b id="timer">WAITING</b></div>
        <div class="stat-item"><small>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</small><b id="count">0</b></div>
    </div>

    <div class="slider-section">
        <div class="slider-arrow">‚ñº</div>
        <div class="avatar-track sliding" id="track">
            <div class="avatar active">üë§</div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div>
            <div class="avatar active">üë§</div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div><div class="avatar"></div>
        </div>
    </div>

    <div class="online-badge">‚óè 00 ONLINE</div>

    <div class="chat-area" id="chat">
        <p style="color:var(--neon); margin:0;">System: ‡∏£‡∏≠‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á...</p>
    </div>

    <div class="action-bar">
        <input type="text" class="input-box" id="msg" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏∏‡∏¢...">
        <button class="btn-play" onclick="play()">PLAY<br><small id="play-price">0.001</small></button>
    </div>

    <div class="footer-space">RESERVED FOR UPDATES</div>
</div>

<script>
    let currentPrice = 0;
    let players = 0;
    let isRolling = false;

    // Build Dots in Lobby
    const wheel = document.getElementById('wheel');
    for(let i=0; i<10; i++) {
        let d = document.createElement('div');
        d.className = 'dot';
        d.style.transform = `rotate(${i*36}deg) translate(85px)`;
        wheel.appendChild(d);
    }

    function join(p) {
        currentPrice = p;
        document.getElementById('play-price').innerText = p;
        document.getElementById('lobby').classList.remove('active');
        document.getElementById('game').classList.add('active');
    }

    function leave() {
        document.getElementById('game').classList.remove('active');
        document.getElementById('lobby').classList.add('active');
    }

    function play() {
        if(isRolling) return;
        players++;
        document.getElementById('count').innerText = players;
        document.getElementById('pot').innerText = (players * currentPrice * 0.9).toFixed(4);
        addChat("You", "‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏î‡∏¥‡∏°‡∏û‡∏±‡∏ô!");
        
        if(players >= 2) startTimer();
    }

    function startTimer() {
        let sec = 5;
        document.getElementById('timer').innerText = "00:05";
        let itv = setInterval(() => {
            sec--;
            document.getElementById('timer').innerText = "00:0" + sec;
            if(sec <= 0) {
                clearInterval(itv);
                rollWinner();
            }
        }, 1000);
    }

    function rollWinner() {
        isRolling = true;
        let track = document.getElementById('track');
        track.style.animation = "none";
        track.style.transition = "transform 3s cubic-bezier(0.15, 0, 0.15, 1)";
        track.style.transform = "translateX(-1500px)"; // Spin fast
        
        setTimeout(() => {
            alert("‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! 0x71... ‡∏ä‡∏ô‡∏∞‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• üèÜ");
            resetGame();
        }, 3500);
    }

    function resetGame() {
        players = 0;
        isRolling = false;
        document.getElementById('count').innerText = "0";
        document.getElementById('timer').innerText = "WAITING";
        document.getElementById('track').style.animation = "slideLoop 15s linear infinite";
        document.getElementById('track').style.transform = "translateX(0)";
    }

    function addChat(u, m) {
        let c = document.getElementById('chat');
        c.innerHTML += `<p><b>${u}:</b> ${m}</p>`;
        c.scrollTop = c.scrollHeight;
    }
</script>
</body>
</html>
