<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Spin - Play Room</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00ffa3; --secondary: #00d1ff; --bg: #0a0e14;
            --card-bg: #161c24; --text: #ffffff; --gray: #8b949e; --danger: #ff4d4d;
        }
        body { font-family: 'Kanit', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; }
        .view { display: none; flex-direction: column; height: 100vh; width: 100%; }
        .view.active { display: flex; }

        /* Ticker ‡πÅ‡∏ñ‡∏ö‡∏ß‡∏¥‡πà‡∏á‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ */
        .winner-ticker { background: rgba(0, 0, 0, 0.8); border-bottom: 1px solid var(--primary); padding: 5px 0; overflow: hidden; white-space: nowrap; }
        .ticker-text { display: inline-block; animation: marquee 15s linear infinite; color: var(--primary); font-size: 0.8rem; }
        @keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        /* ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤ */
        .wallet-bar { display: flex; justify-content: space-between; padding: 10px 20px; background: #1c252e; font-size: 0.9rem; border-bottom: 1px solid #30363d; }
        .balance { color: var(--secondary); font-weight: bold; }

        /* ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÄ‡∏Å‡∏° (‡∏ö‡∏ô) */
        .game-display { text-align: center; padding: 20px; background: linear-gradient(to bottom, #161c24, #0a0e14); }
        .timer-circle { width: 80px; height: 80px; border: 4px solid var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 10px; font-size: 1.5rem; font-weight: bold; box-shadow: 0 0 15px var(--primary); }
        .pot-box { background: rgba(0, 255, 163, 0.1); border: 1px dashed var(--primary); border-radius: 10px; padding: 10px; margin-top: 10px; }
        .pot-amount { font-size: 1.4rem; color: #fbbf24; font-weight: bold; }

        /* ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô */
        .player-stats { display: flex; justify-content: space-around; margin: 15px 0; font-size: 0.8rem; color: var(--gray); }
        .stat-item b { color: white; font-size: 1rem; }

        /* ‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏ä‡∏ó (‡∏Å‡∏•‡∏≤‡∏á) */
        .chat-container { flex-grow: 1; overflow-y: auto; padding: 15px; background: rgba(255,255,255,0.02); display: flex; flex-direction: column; gap: 8px; }
        .chat-msg { font-size: 0.85rem; background: #1c252e; padding: 8px 12px; border-radius: 10px; max-width: 80%; border-left: 3px solid var(--secondary); }
        .chat-msg b { color: var(--secondary); }

        /* ‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
        .control-panel { padding: 15px; background: #161c24; border-top: 1px solid #30363d; }
        .chat-input-box { display: flex; gap: 8px; margin-bottom: 10px; }
        .chat-input { flex-grow: 1; background: #0a0e14; border: 1px solid #30363d; border-radius: 20px; padding: 8px 15px; color: white; outline: none; }
        .btn-play { width: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); border: none; padding: 15px; border-radius: 50px; font-size: 1.2rem; font-weight: bold; color: #000; cursor: pointer; box-shadow: 0 5px 15px rgba(0, 255, 163, 0.4); }
        .btn-play:disabled { background: #333; color: #666; box-shadow: none; }
    </style>
</head>
<body>

    <div id="lobby-view" class="view active" style="display: flex;">
        <div style="padding: 50px 20px; text-align: center;">
            <h1 style="color:var(--primary)">WORLD SPIN</h1>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ô‡∏∏‡∏Å</p>
            <button class="btn-play" onclick="joinGame('0.01')">‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á 0.01 WLD</button>
            <p style="margin-top:20px; color:var(--gray)">*‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á 0.01 WLD*</p>
        </div>
    </div>

    <div id="play-view" class="view">
        <div class="winner-ticker">
            <div class="ticker-text">üèÜ ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏´‡πâ‡∏≠‡∏á 0.1 WLD: 0x82...12A ‡∏£‡∏±‡∏ö 0.35 WLD | üèÜ ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏´‡πâ‡∏≠‡∏á 0.001 WLD: 0x14...55B ‡∏£‡∏±‡∏ö 0.0035 WLD</div>
        </div>

        <div class="wallet-bar">
            <span>Wallet: <span class="balance">0x71...4f2E</span></span>
            <span>Balance: <span class="balance">1.250 WLD</span></span>
        </div>

        <div class="game-display">
            <div class="timer-circle" id="timer">60</div>
            <p style="margin:5px 0; font-size:0.8rem; color:var(--gray)">‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•</p>
            
            <div class="pot-box">
                <span style="font-size:0.8rem">‡πÄ‡∏á‡∏¥‡∏ô‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ (‡∏´‡∏±‡∏Å‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° 30% ‡πÅ‡∏•‡πâ‡∏ß)</span><br>
                <span class="pot-amount" id="pot-display">0.035 WLD</span>
            </div>

            <div class="player-stats">
                <div class="stat-item">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°<br><b id="player-count">5</b> ‡∏Ñ‡∏ô</div>
                <div class="stat-item">‡∏´‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö<br><b id="room-level">0.01 WLD</b></div>
            </div>
        </div>

        <div class="chat-container" id="chat-box">
            <div class="chat-msg"><b>System:</b> ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡πâ‡∏≠‡∏á 0.01 WLD</div>
            <div class="chat-msg"><b>0x32...9b:</b> ‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡∏à‡∏±‡∏á</div>
            <div class="chat-msg"><b>0x11...2c:</b> ‡∏•‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏•‡∏∏‡πâ‡∏ô‡∏ô‡∏ô</div>
        </div>

        <div class="control-panel">
            <div class="chat-input-box">
                <input type="text" class="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...">
                <button style="background:none; border:none; color:var(--primary); font-weight:bold;">‡∏™‡πà‡∏á</button>
            </div>
            <button class="btn-play" id="play-action-btn" onclick="pressPlay()">
                PLAY (0.01 WLD)
            </button>
        </div>
        <button onclick="exitGame()" style="background:none; border:none; color:var(--gray); padding:10px; font-size:0.8rem;">‚Üê ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</button>
    </div>

    <script>
        let timeLeft = 60;
        let players = 5;
        let entryFee = 0.01;
        let timerInterval;

        function joinGame(amount) {
            entryFee = parseFloat(amount);
            document.getElementById('lobby-view').style.display = 'none';
            document.getElementById('play-view').classList.add('active');
            document.getElementById('room-level').innerText = amount + " WLD";
            document.getElementById('play-action-btn').innerText = "PLAY (" + amount + " WLD)";
            updatePot();
            startTimer();
        }

        function updatePot() {
            // ‡∏™‡∏π‡∏ï‡∏£: (‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô * ‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤) * 0.7 (‡∏´‡∏±‡∏Å 30%)
            let rawPot = players * entryFee;
            let netPot = rawPot * 0.7;
            document.getElementById('pot-display').innerText = netPot.toFixed(4) + " WLD";
            document.getElementById('player-count').innerText = players;
        }

        function startTimer() {
            if(timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                if(timeLeft > 0) {
                    timeLeft--;
                    document.getElementById('timer').innerText = timeLeft;
                    if(timeLeft <= 10) document.getElementById('timer').style.color = 'var(--danger)';
                } else {
                    alert("‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•!");
                    timeLeft = 60; // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà
                    document.getElementById('timer').style.color = 'var(--primary)';
                }
            }, 1000);
        }

        function pressPlay() {
            players++;
            updatePot();
            const chat = document.getElementById('chat-box');
            chat.innerHTML += `<div class="chat-msg"><b>You:</b> ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡πÅ‡∏•‡πâ‡∏ß! üéâ</div>`;
            chat.scrollTop = chat.scrollHeight;
            document.getElementById('play-action-btn').disabled = true;
            document.getElementById('play-action-btn').innerText = "WAITING FOR SPIN...";
        }

        function exitGame() {
            clearInterval(timerInterval);
            document.getElementById('play-view').classList.remove('active');
            document.getElementById('lobby-view').style.display = 'flex';
        }
    </script>
</body>
</html>
